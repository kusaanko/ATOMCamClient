# ATOM Camとの通信方法
ATOM Cam(1)はTUTKを使用して接続しています。ただ、私は初代ATOM Camを持っていないのでわかりませんが最新ファームウェアでは暗号化方式が変更されたとのことですので、最新ファームウェアでは下記2/Swingと同じ方式かもしれません。

[TUTK](https://github.com/cnping/TUTK) はThroughTekという台湾の会社が開発したP2P接続用のライブラリのようです。

ATOM Cam 2、Swingは [PeerToPeer](https://github.com/kusaanko/PeerToPeer) という中国のCS2 Network社が開発したソフトウェアを用いたP2P接続を行っているようです。このライブラリはメンテナンスされていないように見えます。一応mavenレポジトリにもありましたがATOMが使用しているライブラリバージョンは3.5.1とネットで探しても見つからないものでした。

Windows、Mac版ATOM CamアプリではこのPeerToPeerのライブラリが同梱されていないため、初代のみのサポートとなっているようです。

また、このPeerToPeerは経由するサーバーを自分たちで用意することができ、ATOMTechが独自に用意したサーバーを経由しているように見えます。

# モーション検知の動画の保存先
ATOMTechが契約しているAmazon AWS S3 ap-northeast-1(東京)クラウドのようです。

# ATOMのAPIのエンドポイント
`app-api.atomtech.co.jp`です。一応ATOMのアプリが中国等と通信することはないと思います。（たぶん）

P2P通信に使用しているサーバーもアメリカにあるAmazonのサーバーでした。

# ATOMアプリの作り
基本的にはWyzecamベースですが、カメラとの通信コマンドやフォーマットは少し異なるようです。また、暗号化プロセスも少し数値が変更されています。そのまま流用して日本語対応しただけではなさそうです。ただ、ログの部分は全部中国語でした。